# iSECTECH Production Environment Secret Configuration
# Environment-specific settings for Google Cloud Secret Manager
# Author: Claude Code - iSECTECH Infrastructure Team
# Version: 2.0.0

# ═══════════════════════════════════════════════════════════════════════════════
# ENVIRONMENT CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

ENVIRONMENT=production
PROJECT_ID=isectech-security-platform
REGION=us-central1
ZONE=us-central1-a

# ═══════════════════════════════════════════════════════════════════════════════
# CLOUD SQL INSTANCES (Production)
# ═══════════════════════════════════════════════════════════════════════════════

# PostgreSQL (Primary Database)
POSTGRES_INSTANCE_CONNECTION_NAME=isectech-security-platform:us-central1:isectech-postgres-prod
POSTGRES_HOST=127.0.0.1  # Via Cloud SQL Proxy
POSTGRES_PORT=5432
POSTGRES_SSL_MODE=require

# MongoDB (Document Storage) - Using MongoDB Atlas
MONGODB_CLUSTER_URI=mongodb+srv://prod-cluster.isectech.mongodb.net
MONGODB_SSL=true
MONGODB_AUTH_SOURCE=admin

# Redis (Cache/Sessions) - Using Cloud Memorystore
REDIS_HOST=10.0.0.100  # Private IP in VPC
REDIS_PORT=6379
REDIS_SSL=true

# ClickHouse (Analytics) - Using Cloud Run instance
CLICKHOUSE_HOST=clickhouse-prod.isectech.com
CLICKHOUSE_PORT=8443
CLICKHOUSE_SECURE=1

# ═══════════════════════════════════════════════════════════════════════════════
# SERVICE MESH CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# Istio Service Mesh
SERVICE_MESH_ENABLED=true
SERVICE_MESH_NAMESPACE=isectech-prod
MUTUAL_TLS_MODE=STRICT

# Kong API Gateway
KONG_ADMIN_API_URI=https://kong-admin-prod.isectech.com:8001
KONG_PROXY_URI=https://api.isectech.com
KONG_DATABASE=postgres

# ═══════════════════════════════════════════════════════════════════════════════
# OAUTH PROVIDER CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# Google OAuth
GOOGLE_OAUTH_REDIRECT_URI=https://protect.isectech.com/api/auth/callback/google
GOOGLE_OAUTH_SCOPE=openid profile email

# Microsoft OAuth
MICROSOFT_OAUTH_TENANT=isectech.onmicrosoft.com
MICROSOFT_OAUTH_REDIRECT_URI=https://protect.isectech.com/api/auth/callback/microsoft
MICROSOFT_OAUTH_SCOPE=openid profile email

# Okta OAuth
OKTA_DOMAIN=isectech.okta.com
OKTA_OAUTH_REDIRECT_URI=https://protect.isectech.com/api/auth/callback/okta
OKTA_OAUTH_SCOPE=openid profile email

# ═══════════════════════════════════════════════════════════════════════════════
# EXTERNAL API ENDPOINTS
# ═══════════════════════════════════════════════════════════════════════════════

# Threat Intelligence APIs
VIRUSTOTAL_API_URL=https://www.virustotal.com/vtapi/v2
RECORDED_FUTURE_API_URL=https://api.recordedfuture.com/v2
MISP_API_URL=https://misp.isectech.com
SHODAN_API_URL=https://api.shodan.io

# Security Tool APIs
NESSUS_API_URL=https://nessus.isectech.com:8834
OPENVAS_API_URL=https://openvas.isectech.com:9392
QUALYS_API_URL=https://qualysapi.qualys.com

# SIEM Integration APIs
SPLUNK_HEC_URL=https://splunk.isectech.com:8088/services/collector
ELASTICSEARCH_URL=https://elasticsearch.isectech.com:9200
LOGSTASH_URL=https://logstash.isectech.com:5044

# SOAR Platform APIs
PHANTOM_API_URL=https://phantom.isectech.com/rest
DEMISTO_API_URL=https://demisto.isectech.com/api/v1
THEHIVE_API_URL=https://thehive.isectech.com/api

# ═══════════════════════════════════════════════════════════════════════════════
# COMMUNICATION SERVICES
# ═══════════════════════════════════════════════════════════════════════════════

# Email Configuration
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_FROM_ADDRESS=alerts@isectech.com
SMTP_FROM_NAME=iSECTECH Security Platform

# Slack Integration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXX
SLACK_CHANNEL=#security-alerts
SLACK_USERNAME=iSECTECH-Bot

# SMS/Voice Notifications
TWILIO_ACCOUNT_SID=AC1234567890abcdef1234567890abcdef
TWILIO_PHONE_NUMBER=+15551234567

# PagerDuty Integration
PAGERDUTY_API_URL=https://api.pagerduty.com
PAGERDUTY_ROUTING_KEY=PLACEHOLDER_PAGERDUTY_ROUTING_KEY

# ═══════════════════════════════════════════════════════════════════════════════
# MONITORING AND OBSERVABILITY
# ═══════════════════════════════════════════════════════════════════════════════

# Error Tracking
SENTRY_DSN=https://placeholder@sentry.io/1234567
SENTRY_ENVIRONMENT=production
SENTRY_SAMPLE_RATE=0.1

# Application Performance Monitoring
NEW_RELIC_APP_NAME=iSECTECH-Production
NEW_RELIC_LABELS=Environment:production;Datacenter:us-central1

# Analytics
GOOGLE_ANALYTICS_MEASUREMENT_ID=G-PLACEHOLDER
MIXPANEL_PROJECT_TOKEN=placeholder_mixpanel_token

# ═══════════════════════════════════════════════════════════════════════════════
# CLOUD SERVICES
# ═══════════════════════════════════════════════════════════════════════════════

# Google Cloud Services
GCS_BUCKET_NAME=isectech-prod-storage
GCS_REGION=us-central1
GOOGLE_MAPS_ENABLED=true

# AWS Services (Multi-cloud)
AWS_REGION=us-east-1
S3_BUCKET_NAME=isectech-prod-backup
S3_STORAGE_CLASS=STANDARD_IA

# Third-party Services
MAPBOX_STYLE_URL=mapbox://styles/isectech/production-style
CLOUDINARY_CLOUD_NAME=isectech-prod

# ═══════════════════════════════════════════════════════════════════════════════
# SECURITY CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# TLS Configuration
TLS_MIN_VERSION=1.2
TLS_CIPHER_SUITES=ECDHE-RSA-AES256-GCM-SHA384,ECDHE-RSA-AES128-GCM-SHA256
CERTIFICATE_PROVIDER=google-managed

# Session Configuration
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=strict
SESSION_TIMEOUT_MINUTES=480
SESSION_ABSOLUTE_TIMEOUT_HOURS=24
SESSION_IDLE_TIMEOUT_MINUTES=60

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://protect.isectech.com,https://api.isectech.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_GENERAL_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_API_REQUESTS_PER_MINUTE=5000
RATE_LIMIT_AUTH_REQUESTS_PER_MINUTE=60
RATE_LIMIT_LOGIN_REQUESTS_PER_MINUTE=5

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=https://protect.isectech.com/api/csp-report
CSP_REPORT_ONLY=false

# ═══════════════════════════════════════════════════════════════════════════════
# FEATURE FLAGS
# ═══════════════════════════════════════════════════════════════════════════════

# Core Features
FEATURE_MULTI_TENANT=true
FEATURE_RBAC=true
FEATURE_AUDIT_LOGGING=true
FEATURE_MFA=true
FEATURE_SSO=true

# Security Features
FEATURE_IP_WHITELISTING=true
FEATURE_DEVICE_FINGERPRINTING=true
FEATURE_BEHAVIORAL_ANALYSIS=true
FEATURE_THREAT_HUNTING=true

# Integration Features
FEATURE_EXTERNAL_APIS=true
FEATURE_WEBHOOK_NOTIFICATIONS=true
FEATURE_SLACK_INTEGRATION=true
FEATURE_EMAIL_NOTIFICATIONS=true

# Advanced Features
FEATURE_MACHINE_LEARNING=true
FEATURE_REAL_TIME_ANALYTICS=true
FEATURE_AUTOMATED_RESPONSE=true
FEATURE_COMPLIANCE_REPORTING=true

# ═══════════════════════════════════════════════════════════════════════════════
# PERFORMANCE TUNING
# ═══════════════════════════════════════════════════════════════════════════════

# Connection Pooling
DB_MAX_CONNECTIONS=100
DB_MIN_CONNECTIONS=10
DB_CONNECTION_TIMEOUT_SECONDS=30
DB_IDLE_TIMEOUT_SECONDS=600

# Caching
REDIS_MAX_CONNECTIONS=50
REDIS_CONNECTION_TIMEOUT_SECONDS=5
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE_MB=512

# API Configuration
API_TIMEOUT_SECONDS=30
API_MAX_REQUEST_SIZE_MB=10
API_COMPRESSION=true
API_KEEP_ALIVE=true

# ═══════════════════════════════════════════════════════════════════════════════
# BACKUP AND DISASTER RECOVERY
# ═══════════════════════════════════════════════════════════════════════════════

# Database Backups
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM UTC
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION=true
BACKUP_COMPRESSION=true

# Log Retention
LOG_RETENTION_DAYS=365
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for compliance
SECURITY_LOG_RETENTION_DAYS=1095  # 3 years

# Disaster Recovery
DR_RTO_MINUTES=240  # Recovery Time Objective: 4 hours
DR_RPO_MINUTES=15   # Recovery Point Objective: 15 minutes
DR_REGION=us-west1

# ═══════════════════════════════════════════════════════════════════════════════
# COMPLIANCE AND GOVERNANCE
# ═══════════════════════════════════════════════════════════════════════════════

# Compliance Standards
COMPLIANCE_SOC2=true
COMPLIANCE_ISO27001=true
COMPLIANCE_GDPR=true
COMPLIANCE_HIPAA=false  # Enable if handling healthcare data
COMPLIANCE_PCI_DSS=false  # Enable if handling payment data

# Data Classification
DATA_CLASSIFICATION_ENABLED=true
PII_ENCRYPTION_REQUIRED=true
PII_ACCESS_LOGGING=true
SENSITIVE_DATA_MASKING=true

# Audit Configuration
AUDIT_ALL_API_CALLS=true
AUDIT_DATA_ACCESS=true
AUDIT_CONFIGURATION_CHANGES=true
AUDIT_USER_ACTIONS=true

# ═══════════════════════════════════════════════════════════════════════════════
# DEPLOYMENT INFORMATION
# ═══════════════════════════════════════════════════════════════════════════════

DEPLOYMENT_TYPE=production
DEPLOYMENT_STRATEGY=blue-green
HEALTH_CHECK_PATH=/api/health
HEALTH_CHECK_INTERVAL_SECONDS=30
READINESS_CHECK_PATH=/api/ready
LIVENESS_CHECK_PATH=/api/alive

# Build Information (populated by CI/CD)
BUILD_TIMESTAMP=
BUILD_VERSION=
BUILD_COMMIT_SHA=
BUILD_BRANCH=main
BUILD_PIPELINE_ID=

# ═══════════════════════════════════════════════════════════════════════════════
# SECURITY NOTES
# ═══════════════════════════════════════════════════════════════════════════════

# CRITICAL SECURITY REMINDERS:
# 1. All actual secret values are stored in Google Cloud Secret Manager
# 2. This file contains only configuration metadata and endpoints
# 3. Service accounts use workload identity - no service account keys stored
# 4. All connections use TLS 1.2+ with certificate pinning where possible
# 5. Rate limiting and DDoS protection enabled at multiple layers
# 6. All user actions and API calls are logged for audit purposes
# 7. Regular security scans and penetration testing scheduled
# 8. Incident response procedures documented and tested quarterly